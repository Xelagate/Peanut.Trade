# Crypto Exchange API Service

> **API-—Å–µ—Ä–≤—ñ—Å –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–π–±—ñ–ª—å—à –≤–∏–≥—ñ–¥–Ω–æ–≥–æ –æ–±–º—ñ–Ω—É –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç**
> –Ω–∞ —Ç–∞–∫–∏—Ö –±—ñ—Ä–∂–∞—Ö, —è–∫ Binance, KuCoin, Uniswap —Ç–∞ Raydium.

---

## üìå –ó–º—ñ—Å—Ç
1. [–û–ø–∏—Å](#–æ–ø–∏—Å)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç—É)
3. [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
4. [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
5. [–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É](#–∑–∞–ø—É—Å–∫-–ø—Ä–æ–µ–∫—Ç—É)
6. [–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API](#–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è-api)
7. [–ü–æ–¥–∞–ª—å—à–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫](#–ø–æ–¥–∞–ª—å—à–∏–π-—Ä–æ–∑–≤–∏—Ç–æ–∫)

---

## üìù –û–ø–∏—Å

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —î API-—Å–µ—Ä–≤—ñ—Å–æ–º –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–π–±—ñ–ª—å—à –≤–∏–≥—ñ–¥–Ω–æ–≥–æ –æ–±–º—ñ–Ω—É –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –±—ñ—Ä–∂–∞—Ö, —Ç–∞–∫–∏—Ö —è–∫ Binance, KuCoin, Uniswap —Ç–∞ Raydium. –°–µ—Ä–≤—ñ—Å –º–∞—î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏:

- **`/estimate`**  
  –ü—Ä–∏–π–º–∞—î `inputAmount`, `inputCurrency` —Ç–∞ `outputCurrency`.  
  –í–∏–∑–Ω–∞—á–∞—î, –Ω–∞ —è–∫—ñ–π –±—ñ—Ä–∂—ñ –∫—É—Ä—Å –æ–±–º—ñ–Ω—É –Ω–∞–π–≤–∏–≥—ñ–¥–Ω—ñ—à–∏–π, —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î:
  - –ù–∞–∑–≤—É –±—ñ—Ä–∂—ñ
  - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏—Ö —Ç–æ–∫–µ–Ω—ñ–≤

- **`/rates`**  
  –ü—Ä–∏–π–º–∞—î `baseCurrency` —Ç–∞ `quoteCurrency`, –ø–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –∫—É—Ä—Å—ñ–≤ –¥–ª—è –≤—Å—ñ—Ö –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏—Ö –±—ñ—Ä–∂.

**–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∏:** `ETH`, `BTC`, `SOL`, `USDT`.

- **DEX (Uniswap, Raydium)** ‚Äì –¥–∞–Ω—ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è —á–µ—Ä–µ–∑ WebSocket-–ø—ñ–¥–ø–∏—Å–∫—É.
- **CEX (Binance, KuCoin)** ‚Äì –∑–∞ –æ—Å—Ç–∞–Ω–Ω—ñ–º —Ç—Ä–µ–π–¥–æ–º.

> **Raydium —É –ø—Ä–æ—Ü–µ—Å—ñ —Ä–æ–∑—Ä–æ–±–∫–∏.**

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
project/
‚îú‚îÄ‚îÄ config.py         # –§–∞–π–ª –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ (–∫–ª—é—á—ñ, –∞–¥—Ä–µ—Å–∏, ABI —Ç–æ—â–æ)
‚îú‚îÄ‚îÄ main.py           # –û—Å–Ω–æ–≤–Ω–∏–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫—É API-—Å–µ—Ä–≤—ñ—Å—É (FastAPI)
‚îú‚îÄ‚îÄ README.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É
‚îú‚îÄ‚îÄ requirements.txt  # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ app/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îú‚îÄ‚îÄ api/
    ‚îÇ   ‚îú‚îÄ‚îÄ estimate.py   # –ï–Ω–¥–ø–æ—ñ–Ω—Ç /estimate
    ‚îÇ   ‚îî‚îÄ‚îÄ rates.py      # –ï–Ω–¥–ø–æ—ñ–Ω—Ç /rates
    ‚îî‚îÄ‚îÄ services/
        ‚îú‚îÄ‚îÄ __init__.py
        ‚îú‚îÄ‚îÄ binance.py    # –ú–æ–¥—É–ª—å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Binance
        ‚îú‚îÄ‚îÄ kucoin.py     # –ú–æ–¥—É–ª—å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ KuCoin
        ‚îú‚îÄ‚îÄ uniswap.py    # –ú–æ–¥—É–ª—å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Uniswap
        ‚îî‚îÄ‚îÄ raydium.py    # –ú–æ–¥—É–ª—å –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Raydium (–≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ)
```

---

## üîß –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. **–ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é:**
   ```bash
   git clone <URL_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é>
   cd project
   ```
2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):**
   ```bash
   python -m venv venv
   ```
3. **–ê–∫—Ç–∏–≤–∞—Ü—ñ—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:**
   - **Windows:**
     ```bash
     venv\Scripts\activate
     ```
   - **Linux/Mac:**
     ```bash
     source venv/bin/activate
     ```
4. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:**
   ```bash
   pip install -r requirements.txt
   ```

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–£ —Ñ–∞–π–ª—ñ **config.py** –≤–Ω–µ—Å—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

- **INFURA_WS_URL** —Ç–∞ **HTTP_PROVIDER_URL** ‚Äì –∑–∞–º—ñ–Ω—ñ—Ç—å `–í–ê–®_PROJECT_ID` –Ω–∞ —Å–≤—ñ–π Infura Project ID.
- **POOL_CONFIG** ‚Äì –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –∞–¥—Ä–µ—Å–∏ –ø—É–ª—ñ–≤ Uniswap –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–∏–º, –∞ —Ç–∞–∫–æ–∂ —â–æ —Ç–æ–∫–µ–Ω–∏ –∑–∞–¥–∞–Ω—ñ —É —Ñ–æ—Ä–º–∞—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `"WETH"` –¥–ª—è ETH, `"WBTC"` –¥–ª—è BTC).
- **ABI_PATH** ‚Äì –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É ABI (–æ—Ç—Ä–∏–º–∞–Ω–æ–≥–æ –∑ Etherscan) –≤–∫–∞–∑–∞–Ω–∏–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ.
- **–ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–æ–∫–µ–Ω–∏ –≤ –∫–æ–Ω—Ñ—ñ–≥ —É –ø—Ä–æ—Ü–µ—Å—ñ —Ä–æ–∑—Ä–æ–±–∫–∏.**

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É

### ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ API-—Å–µ—Ä–≤—ñ—Å—É (FastAPI):

```bash
uvicorn main:app --reload
```

–°–µ—Ä–≤—ñ—Å –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: [http://127.0.0.1:8000](http://127.0.0.1:8000).

### üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –º–æ–¥—É–ª—ñ–≤:

```bash
python app/services/uniswap.py
```

*–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É —Ñ–∞–π–ª—ñ —î —Ç–µ—Å—Ç–æ–≤–∏–π –±–ª–æ–∫, —è–∫–∏–π –≤–∏–≤–æ–¥–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —É –∫–æ–Ω—Å–æ–ª—å.*

---

## üîå –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API

### üìç –ï–Ω–¥–ø–æ—ñ–Ω—Ç `/estimate`

- **–ú–µ—Ç–æ–¥:** `POST`
- **–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:**
  ```json
  {
      "inputAmount": 0.5,
      "inputCurrency": "BTC",
      "outputCurrency": "USDT"
  }
  ```
- **–ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
  ```json
  {
      "exchangeName": "binance",
      "outputAmount": 5500.0
  }
  ```

### üìç –ï–Ω–¥–ø–æ—ñ–Ω—Ç `/rates`

- **–ú–µ—Ç–æ–¥:** `GET`
- **–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:**
  ```
  http://127.0.0.1:8000/rates?baseCurrency=BTC&quoteCurrency=ETH
  ```
- **–ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
  ```json
  [
      { "exchangeName": "binance", "rate": 10.0 },
      { "exchangeName": "kucoin", "rate": 8.0 },
      { "exchangeName": "uniswap", "rate": 9.5 },
      { "exchangeName": "raydium", "rate": 9.0 }
  ]
  ```

---

## üîÑ –ü–æ–¥–∞–ª—å—à–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫

- **üì¶ –ú–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å** ‚Äì –ª–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ –±—ñ—Ä–∂—ñ, —Ä–µ–∞–ª—ñ–∑—É–≤–∞–≤—à–∏ –æ–∫—Ä–µ–º–∏–π –º–æ–¥—É–ª—å —É `app/services/`.
- **‚öôÔ∏è –ì–Ω—É—á–∫—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è** ‚Äì –≤—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É `config.py`, —â–æ —Å–ø—Ä–æ—â—É—î –∑–º—ñ–Ω—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π.
- **‚è≥ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö** ‚Äì –¥–ª—è DEX –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è WebSocket-–ø—ñ–¥–ø–∏—Å–∫–∞ –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö —Ç—Ä–µ–π–¥—ñ–≤.

---

üöÄ **–ì–æ—Ç–æ–≤–æ –¥–æ –∑–∞–ø—É—Å–∫—É!**
